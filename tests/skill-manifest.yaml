# Skill Manifest
# Single source of truth for this plugin's skills and their contracts
# Used by sync script and contract tests

# Plugin name (used to identify internal vs external skill references)
plugin_name: mimer-code

# All skills in this plugin
skills:
  - build-new-feature
  - fix-bug
  - extend-functionality
  - refactor
  - coding-orchestrator
  - using-mimer-code
  - implement-test
  - implement-code
  - refactor-code
  - refactor-test
  - enumerate-test-scenarios
  - identify-coverage-gaps
  - identify-code-issues
  - identify-test-issues
  - document-test-coverage
  - verify-test-coverage

# Named bundles of shared files
# Source location: skills/_shared/{path} (without _shared/ prefix)
# Target location: skills/{skill_name}/_shared/{path}
bundles:
  tdd-phases:
    - _shared/modules/phase-red.md
    - _shared/modules/phase-green.md
    - _shared/modules/phase-refactor.md
    - _shared/modules/phase-coverage.md
    - _shared/modules/phase-optimize.md
    - _shared/modules/phase-0-enumerate.md
    - _shared/modules/phase-0-establish-safety-net.md
    - _shared/modules/phase-final-verification.md
    - _shared/modules/phase-verify-coverage-preserved.md

  code-patterns:
    - _shared/reference/code-patterns.md
    - _shared/reference/data-passing-pattern.md

  test-patterns:
    - _shared/reference/test-patterns.md
    - _shared/reference/data-passing-pattern.md

  test-enumeration:
    - _shared/reference/test-enumeration.md
    - _shared/reference/data-passing-pattern.md

  subagent-contexts:
    - _shared/reference/enumerate-test-scenarios-subagent-context.md
    - _shared/reference/implement-test-subagent-context.md
    - _shared/reference/implement-code-subagent-context.md
    - _shared/reference/identify-test-issues-subagent-context.md
    - _shared/reference/refactor-test-subagent-context.md
    - _shared/reference/identify-code-issues-subagent-context.md
    - _shared/reference/refactor-code-subagent-context.md
    - _shared/reference/identify-coverage-gaps-subagent-context.md
    - _shared/reference/document-test-coverage-subagent-context.md
    - _shared/reference/verify-test-coverage-subagent-context.md
    - _shared/reference/extend-test-coverage-subagent-context.md
    - _shared/reference/optimize-test-execution-subagent-context.md
    - _shared/reference/refactor-app-code-subagent-context.md
    - _shared/reference/refactor-test-code-subagent-context.md

# Which bundles each skill receives
# Skills not listed here have no shared files
skill_files:
  build-new-feature:
    - tdd-phases
    - code-patterns
    - test-patterns
    - subagent-contexts

  fix-bug:
    - tdd-phases
    - code-patterns
    - test-patterns
    - subagent-contexts

  extend-functionality:
    - tdd-phases
    - code-patterns
    - test-patterns
    - subagent-contexts

  refactor:
    - tdd-phases
    - code-patterns
    - test-patterns
    - subagent-contexts

  implement-code:
    - code-patterns

  identify-code-issues:
    - code-patterns

  refactor-code:
    - code-patterns

  implement-test:
    - test-patterns

  identify-test-issues:
    - test-patterns

  refactor-test:
    - test-patterns

  enumerate-test-scenarios:
    - test-enumeration

  identify-coverage-gaps:
    - test-enumeration

  document-test-coverage:
    - test-patterns

  verify-test-coverage:
    - test-patterns

# External skill dependencies (skills from other plugins)
# Format: plugin_name: [list of skill names]
# These are validated to be declared, not that they exist
external_skills:
  superpowers:
    - committing-changes
