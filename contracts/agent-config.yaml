# Agent configuration for agent architecture tests
# Single source of truth for agent structure validation

# =============================================================================
# JSON Schemas for state contracts
# =============================================================================
# Schema files live in contracts/schemas/
# test-config flows through all agents implicitly

schema_version: "http://json-schema.org/draft-07/schema#"

schemas:
  - task.schema.json
  - test-config.schema.json
  - scenarios.schema.json
  - tests.schema.json
  - current-batch.schema.json
  - test-results.schema.json
  - code-results.schema.json
  - issues.schema.json
  - files-changed.schema.json
  - coverage-report.schema.json

# =============================================================================
# Agent definitions
# =============================================================================

agents:
  enumerate-scenarios-and-test-cases:
    color: cyan
    model: sonnet
    skills: []
    input_schema: task.schema.json
    output_schema: scenarios.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  create-test-placeholders:
    color: cyan
    model: haiku
    skills: [writing-tests]
    input_schema: scenarios.schema.json
    output_schema: tests.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  implement-tests:
    color: red
    model: haiku
    skills: [writing-tests]
    input_schema: current-batch.schema.json
    output_schema: test-results.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  implement-code:
    color: green
    model: sonnet
    skills: [writing-code]
    input_schema: test-results.schema.json
    output_schema: code-results.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  identify-test-issues:
    color: yellow
    model: haiku
    skills: [writing-tests]
    input_schema: tests.schema.json
    output_schema: issues.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  refactor-tests:
    color: blue
    model: haiku
    skills: [writing-tests, refactoring-code]
    input_schema: issues.schema.json
    output_schema: files-changed.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  identify-code-issues:
    color: yellow
    model: haiku
    skills: [refactoring-code]
    input_schema: code-results.schema.json
    output_schema: issues.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  refactor-code:
    color: blue
    model: sonnet
    skills: [refactoring-code]
    input_schema: issues.schema.json
    output_schema: files-changed.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  identify-coverage-gaps:
    color: yellow
    model: haiku
    skills: []
    input_schema: tests.schema.json
    output_schema: scenarios.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"

  verify-coverage:
    color: magenta
    model: haiku
    skills: []
    input_schema: tests.schema.json
    output_schema: coverage-report.schema.json
    sections:
      - heading: "## Purpose"
      - heading: "## Definitions"
      - heading: "## Input"
      - heading: "## Instructions"
      - heading: "## Output"
